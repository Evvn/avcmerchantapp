{"ast":null,"code":"import _classCallCheck from \"/Users/evan/pitchblak/v2mryum/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evan/pitchblak/v2mryum/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/evan/pitchblak/v2mryum/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evan/pitchblak/v2mryum/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/evan/pitchblak/v2mryum/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/evan/pitchblak/v2mryum/avcmerchantapp/src/components/OrderRow.js\";\nimport React, { Component } from \"react\";\nimport dayjs from \"dayjs\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { Card, Button, CardImg, CardText, CardBody, CardTitle, CardSubtitle } from \"reactstrap\";\nimport Addons from \"../data/Addons.json\";\nvar titleStyles = {\n  fontWeight: \"bold\",\n  padding: \"10px 0\"\n};\n\nvar Order =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Order, _Component);\n\n  function Order() {\n    _classCallCheck(this, Order);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Order).apply(this, arguments));\n  }\n\n  _createClass(Order, [{\n    key: \"findAddon\",\n    value: function findAddon(match) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, \"--\".concat(match.name, \"  - Addon Price: \").concat(match.price)));\n    }\n  }, {\n    key: \"generateItems\",\n    value: function generateItems() {\n      var _this = this;\n\n      var items = this.props.items;\n      return items.map(function (item) {\n        var customer_name = item.customer_name,\n            table_or_pickup = item.table_or_pickup,\n            phone_number = item.phone_number,\n            created_time = item.created_time;\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, \"\".concat(item.quantity, \" x \").concat(item.items.name)), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, \"Addons\"), (item.addons || []).map(function (toAdd) {\n          return _this.findAddon(toAdd);\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }), React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, \"Price: \" + item.items.price), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }), React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, \"Ordered at: \" + dayjs(created_time).format(\"HH:mm:ss ddd DD/MM/YY\")), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }));\n      });\n    }\n  }, {\n    key: \"updateOrderStatus\",\n    value: function updateOrderStatus() {\n      var _this$props = this.props,\n          updateAirtable = _this$props.updateAirtable,\n          items = _this$props.items,\n          order_is_ready = _this$props.order_is_ready,\n          label = _this$props.label;\n      var newCompletionTime = new Date().toISOString();\n      items.map(function (item) {\n        var id = item.id,\n            processed = item.processed,\n            order_is_ready = item.order_is_ready;\n        var fields = {\n          processed: true,\n          order_is_ready: window.location.hash === \"#pending\" ? false : !order_is_ready,\n          completed_time: newCompletionTime\n        };\n        updateAirtable(id, fields);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          items = _this$props2.items,\n          customerName = _this$props2.customerName,\n          tableOrPickup = _this$props2.tableOrPickup,\n          sendSms = _this$props2.sendSms,\n          label = _this$props2.label;\n      var name = items[0].customer_name;\n      var redemptionCode = items[0].unique_code;\n      var number = items[0].phone_number_for_sms;\n      return React.createElement(\"div\", {\n        style: {\n          margin: \"0 auto\",\n          width: \"80%\",\n          marginBottom: \"30px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Card, {\n        body: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(CardTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, name), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, redemptionCode)), React.createElement(CardText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, this.generateItems()), window.location.hash !== \"#completed\" ? React.createElement(Button, {\n        onClick: function onClick() {\n          toast(\"Order Status Updating....\");\n\n          _this2.updateOrderStatus();\n        },\n        style: {\n          position: \"absolute\",\n          right: \"10px\",\n          top: \"20px\",\n          width: \"200px\",\n          height: \"90px\",\n          background: \"green\",\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, window.location.hash !== \"#completed\" ? \"Complete\" : \"Undo\") : null, window.location.hash === \"#ready\" ? React.createElement(Button, {\n        style: {\n          position: \"absolute\",\n          right: \"10px\",\n          top: \"120px\",\n          width: \"200px\",\n          height: \"90px\",\n          background: \"blue\",\n          color: \"white\"\n        },\n        onClick: function onClick() {\n          toast(\"Sending SMS....\");\n          sendSms(name, number, redemptionCode);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Send SMS\") : null));\n    }\n  }]);\n\n  return Order;\n}(Component);\n\nexport default Order;","map":{"version":3,"sources":["/Users/evan/pitchblak/v2mryum/avcmerchantapp/src/components/OrderRow.js"],"names":["React","Component","dayjs","axios","toast","Card","Button","CardImg","CardText","CardBody","CardTitle","CardSubtitle","Addons","titleStyles","fontWeight","padding","Order","match","name","price","items","props","map","item","customer_name","table_or_pickup","phone_number","created_time","quantity","addons","toAdd","findAddon","format","updateAirtable","order_is_ready","label","newCompletionTime","Date","toISOString","id","processed","fields","window","location","hash","completed_time","customerName","tableOrPickup","sendSms","redemptionCode","unique_code","number","phone_number_for_sms","margin","width","marginBottom","generateItems","updateOrderStatus","position","right","top","height","background","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport dayjs from \"dayjs\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport {\n  Card,\n  Button,\n  CardImg,\n  CardText,\n  CardBody,\n  CardTitle,\n  CardSubtitle\n} from \"reactstrap\";\n\nimport Addons from \"../data/Addons.json\";\n\nconst titleStyles = { fontWeight: \"bold\", padding: \"10px 0\" };\n\nclass Order extends Component {\n  findAddon(match) {\n    return (\n      <div>\n        <p>{`--${match.name}  - Addon Price: ${match.price}`}</p>\n      </div>\n    );\n  }\n\n  generateItems() {\n    const { items } = this.props;\n    return items.map(item => {\n      const {\n        customer_name,\n        table_or_pickup,\n        phone_number,\n        created_time\n      } = item;\n      return (\n        <div>\n          <h5>{`${item.quantity} x ${item.items.name}`}</h5>\n          <br />\n          <h6>Addons</h6>\n          {(item.addons || []).map(toAdd => this.findAddon(toAdd))}\n          <br />\n          <h5>{\"Price: \" + item.items.price}</h5>\n          {/* <h5>{'Quanity: ' + item.quantity}</h5> */}\n          <br />\n          <h5>\n            {\"Ordered at: \" +\n              dayjs(created_time).format(\"HH:mm:ss ddd DD/MM/YY\")}\n          </h5>\n          <hr />\n          <br />\n        </div>\n      );\n    });\n  }\n\n  updateOrderStatus() {\n    const { updateAirtable, items, order_is_ready, label } = this.props;\n    const newCompletionTime = new Date().toISOString();\n    items.map(item => {\n      const { id, processed, order_is_ready } = item;\n      const fields = {\n        processed: true,\n        order_is_ready:\n          window.location.hash === \"#pending\" ? false : !order_is_ready,\n        completed_time: newCompletionTime\n      };\n      updateAirtable(id, fields);\n    });\n  }\n\n  render() {\n    const { items, customerName, tableOrPickup, sendSms, label } = this.props;\n    const name = items[0].customer_name;\n    const redemptionCode = items[0].unique_code;\n    const number = items[0].phone_number_for_sms;\n    return (\n      <div style={{ margin: \"0 auto\", width: \"80%\", marginBottom: \"30px\" }}>\n        <Card body>\n          <CardTitle>\n            <h2>{name}</h2>\n            <h2>{redemptionCode}</h2>\n          </CardTitle>\n          <CardText>{this.generateItems()}</CardText>\n          {window.location.hash !== \"#completed\" ? (\n            <Button\n              onClick={() => {\n                toast(\"Order Status Updating....\");\n                this.updateOrderStatus();\n              }}\n              style={{\n                position: \"absolute\",\n                right: \"10px\",\n                top: \"20px\",\n                width: \"200px\",\n                height: \"90px\",\n                background: \"green\",\n                color: \"white\"\n              }}\n            >\n              {window.location.hash !== \"#completed\" ? \"Complete\" : \"Undo\"}\n            </Button>\n          ) : null}\n          {window.location.hash === \"#ready\" ? (\n            <Button\n              style={{\n                position: \"absolute\",\n                right: \"10px\",\n                top: \"120px\",\n                width: \"200px\",\n                height: \"90px\",\n                background: \"blue\",\n                color: \"white\"\n              }}\n              onClick={() => {\n                toast(\"Sending SMS....\");\n                sendSms(name, number, redemptionCode);\n              }}\n            >\n              Send SMS\n            </Button>\n          ) : null}\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default Order;\n"]},"metadata":{},"sourceType":"module"}