{"ast":null,"code":"import _classCallCheck from \"/Users/evan/pitchblak/v2mryum/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evan/pitchblak/v2mryum/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/evan/pitchblak/v2mryum/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evan/pitchblak/v2mryum/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/evan/pitchblak/v2mryum/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/evan/pitchblak/v2mryum/avcmerchantapp/src/components/OrderRow.js\";\nimport React, { Component } from \"react\";\nimport dayjs from \"dayjs\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { Card, Button, CardImg, CardText, CardBody, CardTitle, CardSubtitle } from 'reactstrap';\nimport Addons from '../data/Addons.json';\nvar titleStyles = {\n  fontWeight: \"bold\",\n  padding: \"10px 0\"\n};\n\nvar Order =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Order, _Component);\n\n  function Order() {\n    _classCallCheck(this, Order);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Order).apply(this, arguments));\n  }\n\n  _createClass(Order, [{\n    key: \"findAddon\",\n    value: function findAddon(match) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }, \"--\".concat(match.name, \"  - Addon Price: \").concat(match.price)));\n    }\n  }, {\n    key: \"generateItems\",\n    value: function generateItems() {\n      var _this = this;\n\n      var items = this.props.items;\n      return items.map(function (item) {\n        var customer_name = item.customer_name,\n            table_or_pickup = item.table_or_pickup,\n            phone_number = item.phone_number,\n            created_time = item.created_time;\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        }, \"\".concat(item.items.name)), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        }), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        }, \"Addons\"), (item.addons || []).map(function (toAdd) {\n          return _this.findAddon(toAdd);\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }), React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }, 'Price: ' + item.items.price), React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, 'Quanity: ' + item.quantity), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }), React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, 'Ordered at: ' + dayjs(created_time).format('HH:mm:ss dd')), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }));\n      });\n    }\n  }, {\n    key: \"updateOrderStatus\",\n    value: function updateOrderStatus() {\n      var _this$props = this.props,\n          updateAirtable = _this$props.updateAirtable,\n          items = _this$props.items,\n          order_is_ready = _this$props.order_is_ready,\n          label = _this$props.label;\n      var newCompletionTime = new Date().toISOString();\n      items.map(function (item) {\n        var id = item.id,\n            processed = item.processed,\n            order_is_ready = item.order_is_ready;\n        var fields = {\n          processed: true,\n          order_is_ready: window.location.hash === '#pending' ? false : !order_is_ready,\n          completed_time: newCompletionTime\n        };\n        updateAirtable(id, fields);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          items = _this$props2.items,\n          customerName = _this$props2.customerName,\n          tableOrPickup = _this$props2.tableOrPickup,\n          sendSms = _this$props2.sendSms,\n          label = _this$props2.label;\n      var name = items[0].customer_name;\n      var redemptionCode = items[0].unique_code;\n      var number = items[0].phone_number_for_sms;\n      return React.createElement(\"div\", {\n        style: {\n          margin: '0 auto',\n          width: '80%',\n          marginBottom: '30px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Card, {\n        body: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(CardTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, name), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, redemptionCode)), React.createElement(CardText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, this.generateItems()), window.location.hash !== '#completed' ? React.createElement(Button, {\n        onClick: function onClick() {\n          toast(\"Order Status Updating....\");\n\n          _this2.updateOrderStatus();\n        },\n        style: {\n          position: 'absolute',\n          right: '10px',\n          top: '20px',\n          width: '200px',\n          height: '90px',\n          background: 'green',\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, window.location.hash !== '#completed' ? 'Complete' : 'Undo') : null, window.location.hash === '#ready' ? React.createElement(Button, {\n        style: {\n          position: 'absolute',\n          right: '10px',\n          top: '120px',\n          width: '200px',\n          height: '90px',\n          background: 'blue',\n          color: 'white'\n        },\n        onClick: function onClick() {\n          toast(\"Sending SMS....\");\n          sendSms(name, number, redemptionCode);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Send SMS\") : null));\n    }\n  }]);\n\n  return Order;\n}(Component);\n\nexport default Order;","map":{"version":3,"sources":["/Users/evan/pitchblak/v2mryum/avcmerchantapp/src/components/OrderRow.js"],"names":["React","Component","dayjs","axios","toast","Card","Button","CardImg","CardText","CardBody","CardTitle","CardSubtitle","Addons","titleStyles","fontWeight","padding","Order","match","name","price","items","props","map","item","customer_name","table_or_pickup","phone_number","created_time","addons","toAdd","findAddon","quantity","format","updateAirtable","order_is_ready","label","newCompletionTime","Date","toISOString","id","processed","fields","window","location","hash","completed_time","customerName","tableOrPickup","sendSms","redemptionCode","unique_code","number","phone_number_for_sms","margin","width","marginBottom","generateItems","updateOrderStatus","position","right","top","height","background","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport dayjs from \"dayjs\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { Card, Button, CardImg, CardText, CardBody,\n  CardTitle, CardSubtitle } from 'reactstrap';\n\n  import Addons from '../data/Addons.json';\n\n\n\nconst titleStyles = { fontWeight: \"bold\", padding: \"10px 0\" };\n\nclass Order extends Component {\n\n\n  findAddon(match){\n    return (<div><p>{`--${match.name}  - Addon Price: ${match.price}`}</p></div>)\n  }\n\n  generateItems(){\n    const {items} = this.props;\n    return items.map(item => {\n      const {customer_name, table_or_pickup, phone_number, created_time} = item;\n      return (\n        <div>\n        <h5>{`${item.items.name}`}</h5>\n        <br/>\n          <h6>Addons</h6>\n          {(item.addons || []).map(toAdd => this.findAddon(toAdd))}\n        <br/>\n        <h5>{'Price: ' + item.items.price}</h5>\n        <h5>{'Quanity: ' + item.quantity}</h5>\n        <br/>\n        <h5>{'Ordered at: ' + dayjs(created_time).format('HH:mm:ss dd')}</h5>\n        <hr/>\n        <br/>\n        </div>\n      );\n    });\n  }\n\n  updateOrderStatus(){\n    const { updateAirtable, items, order_is_ready, label } = this.props;\n    const newCompletionTime = new Date().toISOString();\n    items.map(item => {\n      const {id, processed, order_is_ready } = item;\n      const fields = {\n        processed: true,\n        order_is_ready: window.location.hash === '#pending' ? false : !order_is_ready,\n        completed_time: newCompletionTime,\n      }\n      updateAirtable(id, fields)})\n  }\n\n  render() {\n    const { items, customerName, tableOrPickup, sendSms, label} = this.props;\n    const name = items[0].customer_name;\n    const redemptionCode = items[0].unique_code;\n    const number = items[0].phone_number_for_sms;\n    return (\n      <div style={{margin: '0 auto', width: '80%', marginBottom: '30px'}}>\n        <Card  body>\n              <CardTitle>\n              <h2>{name}</h2>\n              <h2>{redemptionCode}</h2>\n              </CardTitle>\n              <CardText>\n                {this.generateItems()}\n              </CardText>\n              {window.location.hash !== '#completed' ? <Button onClick={() => {toast(\"Order Status Updating....\"); this.updateOrderStatus()}} style={{position: 'absolute', right: '10px', top: '20px', width: '200px', height: '90px',background: 'green', color:'white'}}>\n                {window.location.hash !== '#completed' ? 'Complete' : 'Undo'}\n              </Button> : null}\n              {window.location.hash === '#ready' ? <Button style={{position: 'absolute', right: '10px', top: '120px', width: '200px', height: '90px',background: 'blue', color:'white'}}  onClick={() => {toast(\"Sending SMS....\"); sendSms(name, number,redemptionCode)}} >\n                Send SMS\n              </Button> : null}\n\n        </Card>\n      </div>\n  );\n  }\n}\n\nexport default Order;\n"]},"metadata":{},"sourceType":"module"}