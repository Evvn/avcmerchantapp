{"ast":null,"code":"import _classCallCheck from \"/Users/michaelfoster/Git/avcmerchantappN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/michaelfoster/Git/avcmerchantappN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/michaelfoster/Git/avcmerchantappN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/michaelfoster/Git/avcmerchantappN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/michaelfoster/Git/avcmerchantappN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/michaelfoster/Git/avcmerchantappN/src/components/OrderRow.js\";\nimport React, { Component } from \"react\";\nimport dayjs from \"dayjs\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { Card, Button, CardImg, CardText, CardBody, CardTitle, CardSubtitle } from 'reactstrap';\nvar titleStyles = {\n  fontWeight: \"bold\",\n  padding: \"10px 0\"\n};\n\nvar Order =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Order, _Component);\n\n  function Order() {\n    _classCallCheck(this, Order);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Order).apply(this, arguments));\n  }\n\n  _createClass(Order, [{\n    key: \"generateItems\",\n    value: function generateItems() {\n      var items = this.props.items;\n      return items.map(function (item) {\n        var customer_name = item.customer_name,\n            table_or_pickup = item.table_or_pickup,\n            phone_number = item.phone_number,\n            created_time = item.created_time;\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21\n          },\n          __self: this\n        }, React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22\n          },\n          __self: this\n        }, \"\".concat(table_or_pickup)), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        }, \"\".concat(item.items.name)));\n      });\n    }\n  }, {\n    key: \"updateOrderStatus\",\n    value: function updateOrderStatus() {\n      var _this$props = this.props,\n          updateAirtable = _this$props.updateAirtable,\n          items = _this$props.items,\n          order_is_ready = _this$props.order_is_ready;\n      var newCompletionTime = new Date().toISOString();\n      items.map(function (item) {\n        var id = item.id,\n            processed = item.processed,\n            stripe_transaction_id = item.stripe_transaction_id;\n        var fields = {\n          id: id,\n          processed: !processed,\n          order_is_ready: !order_is_ready,\n          completed_time: newCompletionTime\n        };\n        updateAirtable(stripe_transaction_id, fields);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _this$props2 = this.props,\n          items = _this$props2.items,\n          customerName = _this$props2.customerName,\n          tableOrPickup = _this$props2.tableOrPickup,\n          sendSms = _this$props2.sendSms;\n      var name = items[0].customer_name;\n      var redemptionCode = items[0].unique_code;\n      var number = items[0].phone_number_for_sms;\n      return React.createElement(\"div\", {\n        style: {\n          margin: '0 auto',\n          width: '80%',\n          marginBottom: '30px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(Card, {\n        body: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(CardTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, name), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, redemptionCode), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, items[0].table_or_pickup)), React.createElement(CardText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, this.generateItems()), React.createElement(Button, {\n        onClick: function onClick() {\n          sendSms(name, number, redemptionCode);\n        },\n        style: {\n          position: 'absolute',\n          right: '10px',\n          top: '20px',\n          width: '200px',\n          height: '90px',\n          background: 'blue',\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Send SMS\"), React.createElement(Button, {\n        onClick: function onClick() {\n          _this.updateOrderStatus();\n        },\n        style: {\n          position: 'absolute',\n          right: '10px',\n          top: '120px',\n          width: '200px',\n          height: '90px',\n          background: 'green',\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Complete\")));\n    }\n  }]);\n\n  return Order;\n}(Component);\n\nexport default Order;","map":{"version":3,"sources":["/Users/michaelfoster/Git/avcmerchantappN/src/components/OrderRow.js"],"names":["React","Component","dayjs","axios","toast","Card","Button","CardImg","CardText","CardBody","CardTitle","CardSubtitle","titleStyles","fontWeight","padding","Order","items","props","map","item","customer_name","table_or_pickup","phone_number","created_time","name","updateAirtable","order_is_ready","newCompletionTime","Date","toISOString","id","processed","stripe_transaction_id","fields","completed_time","customerName","tableOrPickup","sendSms","redemptionCode","unique_code","number","phone_number_for_sms","margin","width","marginBottom","generateItems","position","right","top","height","background","color","updateOrderStatus"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport dayjs from \"dayjs\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { Card, Button, CardImg, CardText, CardBody,\n  CardTitle, CardSubtitle } from 'reactstrap';\n\n\n\nconst titleStyles = { fontWeight: \"bold\", padding: \"10px 0\" };\n\nclass Order extends Component {\n\n\n\n  generateItems(){\n    const {items} = this.props;\n    return items.map(item => {\n      const {customer_name, table_or_pickup, phone_number, created_time} = item;\n      return (\n        <div>\n        <h6>{`${table_or_pickup}`}</h6>\n        <p>{`${item.items.name}`}</p>\n        </div>\n      );\n    });\n  }\n\n  updateOrderStatus(){\n    const { updateAirtable, items, order_is_ready } = this.props;\n    const newCompletionTime = new Date().toISOString();\n    items.map(item => {\n      const {id, processed, stripe_transaction_id } = item;\n      const fields = {\n        id,\n        processed: !processed,\n        order_is_ready: !order_is_ready,\n        completed_time: newCompletionTime,\n      }\n      updateAirtable(stripe_transaction_id, fields)})\n  }\n\n  render() {\n    const { items, customerName, tableOrPickup, sendSms} = this.props;\n    const name = items[0].customer_name;\n    const redemptionCode = items[0].unique_code;\n    const number = items[0].phone_number_for_sms;\n    return (\n      <div style={{margin: '0 auto', width: '80%', marginBottom: '30px'}}>\n        <Card  body>\n              <CardTitle>\n              <h2>{name}</h2>\n              <h2>{redemptionCode}</h2>\n              <h4>{items[0].table_or_pickup}</h4>\n              </CardTitle>\n              <CardText>\n                {this.generateItems()}\n              </CardText>\n            <Button onClick={() => {sendSms(name, number,redemptionCode)}} style={{position: 'absolute', right: '10px', top: '20px', width: '200px', height: '90px',background: 'blue', color:'white'}}>\n              Send SMS\n            </Button>\n            <Button onClick={() => {this.updateOrderStatus()}}style={{position: 'absolute', right: '10px', top: '120px', width: '200px', height: '90px',background: 'green', color:'white'}}>\n              Complete\n            </Button>\n        </Card>\n      </div>\n  );\n  }\n}\n\nexport default Order;\n"]},"metadata":{},"sourceType":"module"}