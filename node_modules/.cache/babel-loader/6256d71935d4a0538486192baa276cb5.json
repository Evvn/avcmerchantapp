{"ast":null,"code":"import _classCallCheck from \"/Users/michaelfoster/Git/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/michaelfoster/Git/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/michaelfoster/Git/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/michaelfoster/Git/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/michaelfoster/Git/avcmerchantapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/michaelfoster/Git/avcmerchantapp/src/components/OrderRow.js\";\nimport React, { Component } from \"react\";\nimport dayjs from \"dayjs\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { Card, Button, CardImg, CardText, CardBody, CardTitle, CardSubtitle } from 'reactstrap';\nvar titleStyles = {\n  fontWeight: \"bold\",\n  padding: \"10px 0\"\n};\n\nvar Order =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Order, _Component);\n\n  function Order() {\n    _classCallCheck(this, Order);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Order).apply(this, arguments));\n  }\n\n  _createClass(Order, [{\n    key: \"generateItems\",\n    value: function generateItems() {\n      var items = this.props.items;\n      return items.map(function (item) {\n        console.log(item);\n        var customer_name = item.customer_name,\n            table_or_pickup = item.table_or_pickup,\n            phone_number = item.phone_number,\n            created_time = item.created_time;\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22\n          },\n          __self: this\n        }, React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        }, \"\".concat(item.items.name)), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24\n          },\n          __self: this\n        }, \"Addons will be listed here.\"), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25\n          },\n          __self: this\n        }, item.items.price), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        }, item.items.quantity));\n      });\n    }\n  }, {\n    key: \"updateOrderStatus\",\n    value: function updateOrderStatus() {\n      var _this$props = this.props,\n          updateAirtable = _this$props.updateAirtable,\n          items = _this$props.items,\n          order_is_ready = _this$props.order_is_ready,\n          label = _this$props.label;\n      var newCompletionTime = new Date().toISOString();\n      items.map(function (item) {\n        var id = item.id,\n            processed = item.processed,\n            order_is_ready = item.order_is_ready;\n        var fields = {\n          processed: true,\n          order_is_ready: window.location.hash === '#pending' ? false : !order_is_ready,\n          completed_time: newCompletionTime\n        };\n        updateAirtable(id, fields);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _this$props2 = this.props,\n          items = _this$props2.items,\n          customerName = _this$props2.customerName,\n          tableOrPickup = _this$props2.tableOrPickup,\n          sendSms = _this$props2.sendSms,\n          label = _this$props2.label;\n      var name = items[0].customer_name;\n      var redemptionCode = items[0].unique_code;\n      var number = items[0].phone_number_for_sms;\n      return React.createElement(\"div\", {\n        style: {\n          margin: '0 auto',\n          width: '80%',\n          marginBottom: '30px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Card, {\n        body: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(CardTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, name), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, redemptionCode)), React.createElement(CardText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, this.generateItems()), React.createElement(Button, {\n        onClick: function onClick() {\n          _this.updateOrderStatus();\n        },\n        style: {\n          position: 'absolute',\n          right: '10px',\n          top: '20px',\n          width: '200px',\n          height: '90px',\n          background: 'green',\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, window.location.hash !== '#completed' ? 'Complete' : 'Undo'), window.location.hash === '#ready' ? React.createElement(Button, {\n        style: {\n          position: 'absolute',\n          right: '10px',\n          top: '120px',\n          width: '200px',\n          height: '90px',\n          background: 'blue',\n          color: 'white'\n        },\n        onClick: function onClick() {\n          sendSms(name, number, redemptionCode);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Send SMS\") : null));\n    }\n  }]);\n\n  return Order;\n}(Component);\n\nexport default Order;","map":{"version":3,"sources":["/Users/michaelfoster/Git/avcmerchantapp/src/components/OrderRow.js"],"names":["React","Component","dayjs","axios","toast","Card","Button","CardImg","CardText","CardBody","CardTitle","CardSubtitle","titleStyles","fontWeight","padding","Order","items","props","map","item","console","log","customer_name","table_or_pickup","phone_number","created_time","name","price","quantity","updateAirtable","order_is_ready","label","newCompletionTime","Date","toISOString","id","processed","fields","window","location","hash","completed_time","customerName","tableOrPickup","sendSms","redemptionCode","unique_code","number","phone_number_for_sms","margin","width","marginBottom","generateItems","updateOrderStatus","position","right","top","height","background","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport dayjs from \"dayjs\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { Card, Button, CardImg, CardText, CardBody,\n  CardTitle, CardSubtitle } from 'reactstrap';\n\n\n\nconst titleStyles = { fontWeight: \"bold\", padding: \"10px 0\" };\n\nclass Order extends Component {\n\n\n\n  generateItems(){\n    const {items} = this.props;\n    return items.map(item => {\n      console.log(item)\n      const {customer_name, table_or_pickup, phone_number, created_time} = item;\n      return (\n        <div>\n        <h6>{`${item.items.name}`}</h6>\n          <p>Addons will be listed here.</p>\n        <h6>{item.items.price}</h6>\n        <h6>{item.items.quantity}</h6>\n        </div>\n      );\n    });\n  }\n\n  updateOrderStatus(){\n    const { updateAirtable, items, order_is_ready, label } = this.props;\n    const newCompletionTime = new Date().toISOString();\n    items.map(item => {\n      const {id, processed, order_is_ready } = item;\n      const fields = {\n        processed: true,\n        order_is_ready: window.location.hash === '#pending' ? false : !order_is_ready,\n        completed_time: newCompletionTime,\n      }\n      updateAirtable(id, fields)})\n  }\n\n  render() {\n    const { items, customerName, tableOrPickup, sendSms, label} = this.props;\n    const name = items[0].customer_name;\n    const redemptionCode = items[0].unique_code;\n    const number = items[0].phone_number_for_sms;\n    return (\n      <div style={{margin: '0 auto', width: '80%', marginBottom: '30px'}}>\n        <Card  body>\n              <CardTitle>\n              <h2>{name}</h2>\n              <h2>{redemptionCode}</h2>\n              </CardTitle>\n              <CardText>\n                {this.generateItems()}\n              </CardText>\n              <Button onClick={() => {this.updateOrderStatus()}} style={{position: 'absolute', right: '10px', top: '20px', width: '200px', height: '90px',background: 'green', color:'white'}}>\n                {window.location.hash !== '#completed' ? 'Complete' : 'Undo'}\n              </Button>\n              {window.location.hash === '#ready' ? <Button style={{position: 'absolute', right: '10px', top: '120px', width: '200px', height: '90px',background: 'blue', color:'white'}}  onClick={() => {sendSms(name, number,redemptionCode)}} >\n                Send SMS\n              </Button> : null}\n            \n        </Card>\n      </div>\n  );\n  }\n}\n\nexport default Order;\n"]},"metadata":{},"sourceType":"module"}